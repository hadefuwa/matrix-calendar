<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matrix Calendar - Outlook Calendars</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="View multiple Outlook calendars in one place">
    <meta name="theme-color" content="#0078d4">
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Top Navigation -->
        <nav class="top-navigation">
            <div class="nav-tabs">
                <button class="nav-tab active" data-tab="calendars">Calendars</button>
                <button class="nav-tab" data-tab="booking">Booking</button>
            </div>
        </nav>

        <!-- Loading indicator -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Loading calendars...</p>
        </div>

        <!-- Calendar Container - Simple Table Layout -->
        <main id="calendar-container" style="display: none;">
            <div class="calendar-controls">
                <button id="load-calendars-btn" class="load-calendars-btn">Load Calendars</button>
            </div>
            <table class="calendar-table">
                <tr>
                    <!-- Meeting Room -->
                    <td class="calendar-cell">
                        <div class="calendar-section meeting-room">
                            <h2>Meeting Room</h2>
                            <div class="calendar-frame">
                                <iframe 
                                    id="calendar1" 
                                    data-src="https://outlook.office365.com/calendar/published/dbb6542099094ad7b9b68ce0d1d9d528@matrixtsl.com/b5516e4d9db1437aae6358f91c5f35c213795758718651646753/calendar.html"
                                    title="Meeting Room Calendar"
                                    frameborder="0"
                                    scrolling="no">
                                    <div class="calendar-placeholder">
                                        <p>Click "Load Calendars" to view Meeting Room calendar</p>
                                    </div>
                                </iframe>
                            </div>
                        </div>
                    </td>

                    <!-- Training Room -->
                    <td class="calendar-cell">
                        <div class="calendar-section training-room">
                            <h2>Training Room</h2>
                            <div class="calendar-frame">
                                <iframe 
                                    id="calendar2" 
                                    data-src="https://outlook.office365.com/calendar/published/dbb6542099094ad7b9b68ce0d1d9d528@matrixtsl.com/b5516e4d9db1437aae6358f91c5f35c213795758718651646753/calendar.html"
                                    title="Training Room Calendar"
                                    frameborder="0"
                                    scrolling="no">
                                    <div class="calendar-placeholder">
                                        <p>Click "Load Calendars" to view Training Room calendar</p>
                                    </div>
                                </iframe>
                            </div>
                        </div>
                    </td>

                    <!-- Dev Room -->
                    <td class="calendar-cell">
                        <div class="calendar-section dev-room">
                            <h2>Dev Room</h2>
                            <div class="calendar-frame">
                                <iframe 
                                    id="calendar3" 
                                    data-src="https://outlook.office365.com/calendar/published/dbb6542099094ad7b9b68ce0d1d9d528@matrixtsl.com/b5516e4d9db1437aae6358f91c5f35c213795758718651646753/calendar.html"
                                    title="Dev Room Calendar"
                                    frameborder="0"
                                    scrolling="no">
                                    <div class="calendar-placeholder">
                                        <p>Click "Load Calendars" to view Dev Room calendar</p>
                                    </div>
                                </iframe>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </main>

        <!-- Booking Container -->
        <main id="booking-container" class="booking-container" style="display: none;">
            <div class="booking-content">
                <h1>Quick Room Booking</h1>
                
                <div class="booking-buttons">
                    <button class="booking-btn" data-duration="30">
                        <span class="btn-time">+30</span>
                        <span class="btn-label">mins</span>
                    </button>
                    <button class="booking-btn" data-duration="60">
                        <span class="btn-time">+1</span>
                        <span class="btn-label">hr</span>
                    </button>
                    <button class="booking-btn" data-duration="120">
                        <span class="btn-time">+2</span>
                        <span class="btn-label">hrs</span>
                    </button>
                </div>

                <div class="room-selector">
                    <h3>Select Room:</h3>
                    <div class="room-buttons">
                        <button class="room-btn active" data-room="meeting">Meeting Room</button>
                        <button class="room-btn" data-room="training">Training Room</button>
                        <button class="room-btn" data-room="dev">Dev Room</button>
                    </div>
                </div>

                <div class="countdown-section">
                    <h2>Next Available:</h2>
                    <div class="countdown-display">
                        <div class="countdown-time">
                            <span id="countdown-hours">00</span>:
                            <span id="countdown-minutes">00</span>:
                            <span id="countdown-seconds">00</span>
                        </div>
                        <div class="countdown-label">Until <span id="selected-room-name">Meeting Room</span> is free</div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Error message -->
        <div id="error-message" class="error-message" style="display: none;">
            <h2>Unable to load calendars</h2>
            <p>Please check your internet connection and try refreshing the page.</p>
            <button onclick="location.reload()" class="retry-button">Retry</button>
        </div>

        <!-- Install prompt -->
        <div id="install-prompt" class="install-prompt" style="display: none;">
            <p>Install this app for easier access!</p>
            <button id="install-button" class="install-button">Install App</button>
            <button id="dismiss-install" class="dismiss-button">Ã—</button>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="app.js"></script>
</body>
</html>
